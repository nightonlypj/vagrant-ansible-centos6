[production-web1]
web1.mydomain

[production-web2]
web2.mydomain

[web-servers:children]
production-web1
production-web2

[production-db]
production-db.mydomain

[db-servers:children]
production-db

[production:children]
web-servers
db-servers

[all:vars]
ansible_ssh_port=22
#ansible_ssh_user=ansible
hosts_env=production
hosts_allow_sshd=x.x.x.x
### system ###
localtime=Japan
clock_zone=Asia/Tokyo
i18n_lang=ja_JP.UTF-8
keyboard_keytable=jp106
keyboard_model=jp106
keyboard_layout=jp
### aliases ###
aliases_notice=admin@mydomain
aliases_warning=admin@mydomain
aliases_critical=admin@mydomain
### ntpd ###
# Use CentOS default
#ntpd_servers='["0.centos.pool.ntp.org", "1.centos.pool.ntp.org", "2.centos.pool.ntp.org", "3.centos.pool.ntp.org"]'
# Use Amazon Linux
ntpd_servers='["0.amazon.pool.ntp.org", "1.amazon.pool.ntp.org", "2.amazon.pool.ntp.org", "3.amazon.pool.ntp.org"]'
### END ###

[db-servers:vars]
hosts_allow_httpd=
hosts_allow_mysqld=127.0.0.1, x.x.x.x, [::1]
hosts_allow_postgresql=127.0.0.1, x.x.x.x, [::1]
iptables_enable_http_public=0
ip6tables_enable_http_public=0
iptables_tomcat_internal_addresses=
ip6tables_tomcat_internal_addresses=
iptables_mysqld_internal_addresses='["x.x.x.x"]'
ip6tables_mysqld_internal_addresses=
iptables_postgresql_internal_addresses='["x.x.x.x"]'
ip6tables_postgresql_internal_addresses=
iptables_redis_internal_addresses='["x.x.x.x"]'
ip6tables_redis_internal_addresses=
iptables_mongodb_internal_addresses='["x.x.x.x"]'
ip6tables_mongodb_internal_addresses=
### MySQL ###
mysql_root_password=changepasswd
mysql_dbname=mytest
mysql_username=myuser
mysql_password=changepasswd
mysql_validate_password_policy=LOW
mysql_validate_password_length=6
### PostgreSQL ###
postgresql_dbname=pgtest
postgresql_username=pguser
postgresql_password=changepasswd
### END ###

[web-servers:vars]
hosts_allow_httpd=ALL
hosts_allow_mysqld=
hosts_allow_postgresql=
iptables_enable_http_public=1
ip6tables_enable_http_public=1
iptables_mysqld_internal_addresses=
ip6tables_mysqld_internal_addresses=
iptables_postgresql_internal_addresses=
ip6tables_postgresql_internal_addresses=
iptables_redis_internal_addresses=
ip6tables_redis_internal_addresses=
iptables_mongodb_internal_addresses=
ip6tables_mongodb_internal_addresses=
### Tomcat ###
tomcat_enable_manager=0
tomcat_user_name=
tomcat_user_password=
### Apache/Nginx ###
httpd_front_servername=mydomain
# No use IP limit
httpd_enable_ip_limit=0
# Use IP limit
#httpd_enable_ip_limit=1
### Load Balancer ###
# No use
#httpd_ssl_is_80port=0
#httpd_ssl_check_header=
#httpd_ssl_check_value=
#httpd_log_host_header=
# Use ELB
httpd_ssl_is_80port=1
httpd_ssl_check_header=X-Forwarded-Port
httpd_ssl_check_value=443
httpd_log_host_header=X-Forwarded-For
### SSL Certificate ###
# Use default
httpd_enable_letsencrypt=0
httpd_front_crt_file=/etc/pki/tls/certs/localhost.crt
httpd_front_key_file=/etc/pki/tls/private/localhost.key
httpd_front_chain_file=
httpd_front_fullchain_file={{ httpd_front_crt_file }}
# Use Let's Encrypt(1=Not overwrite, 2=Force overwrite)
#httpd_enable_letsencrypt=1
#httpd_front_crt_file=/etc/letsencrypt/live/{{ httpd_front_servername }}/cert.pem
#httpd_front_key_file=/etc/letsencrypt/live/{{ httpd_front_servername }}/privkey.pem
#httpd_front_chain_file=/etc/letsencrypt/live/{{ httpd_front_servername }}/chain.pem
#httpd_front_fullchain_file=/etc/letsencrypt/live/{{ httpd_front_servername }}/fullchain.pem
### END ###
